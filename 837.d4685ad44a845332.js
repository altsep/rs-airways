"use strict";(self.webpackChunkrs_airways=self.webpackChunkrs_airways||[]).push([[837],{5837:(ft,_,l)=>{l.r(_),l.d(_,{CartModule:()=>dt});var d=l(130),u=l(2810),f=l(8987),A=l(3241),y=l(8152),h=l(3843),r=l(2873),v=l(4375),T=l(3597),M=l(1863),N=l(2087),R=l(4923),t=l(5230),O=l(3327),Y=l(8650),w=l(2662),U=l(9572),L=l(1695),Z=l(7135),P=l(1928),g=l(7770),m=l(7260),D=l(3648),p=l(378),E=l(5904),S=l(2768),C=l(2479);function J(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"th",26)(1,"mat-checkbox",27),t.NdJ("change",function(c){t.CHM(n);const i=t.oxw(2);return t.KtG(c?i.toggleAllRows():null)}),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())}}function k(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",28)(1,"mat-checkbox",27),t.NdJ("change",function(c){const s=t.CHM(n).$implicit,x=t.oxw(2);return t.KtG(c?x.selection.toggle(s):null)}),t.qZA()()}if(2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("checked",o.selection.isSelected(n))}}function Q(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1,"No."),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.tripList.getNumber(n))}}function j(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.FLIGHT")))}function q(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.tripList.getFlight(n))}}function H(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.TYPE_TRIP")))}function B(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.tripList.getFlightType(n))}}function F(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.DATE_TIME")))}function G(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.tripList.getDateTime(n))}}function K(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.PASSENGER")))}function $(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.passengerList.passengersByString(n.passengers))}}function z(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.PRICE")))}function W(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit,o=t.oxw(2);t.xp6(1),t.AsE(" ",o.currencySymbolService.getCurrencySymbol(),"",t.xi3(2,2,o.tripList.getPrice(n),"1.0-2")," ")}}function V(e,a){1&e&&(t.TgZ(0,"th",26),t._uU(1,"\xa0"),t.qZA())}const X=function(e){return{myobject:e}};function tt(e,a){if(1&e&&(t.TgZ(0,"td",28)(1,"button",31)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()()()),2&e){const n=a.$implicit;t.oxw(2);const o=t.MAs(19);t.xp6(1),t.Q6J("matMenuTriggerFor",o)("matMenuTriggerData",t.VKq(2,X,n))}}function et(e,a){1&e&&t._UZ(0,"tr",32)}function nt(e,a){1&e&&t._UZ(0,"tr",33)}function ot(e,a){if(1&e&&(t.TgZ(0,"table",11),t.ynx(1,12),t.YNc(2,J,2,1,"th",13),t.YNc(3,k,2,1,"td",14),t.BQk(),t.ynx(4,15),t.YNc(5,Q,2,0,"th",16),t.YNc(6,I,2,1,"td",14),t.BQk(),t.ynx(7,17),t.YNc(8,j,3,3,"th",18),t.YNc(9,q,2,1,"td",14),t.BQk(),t.ynx(10,19),t.YNc(11,H,3,3,"th",18),t.YNc(12,B,2,1,"td",14),t.BQk(),t.ynx(13,20),t.YNc(14,F,3,3,"th",18),t.YNc(15,G,2,1,"td",14),t.BQk(),t.ynx(16,21),t.YNc(17,K,3,3,"th",18),t.YNc(18,$,2,1,"td",14),t.BQk(),t.ynx(19,22),t.YNc(20,z,3,3,"th",18),t.YNc(21,W,3,5,"td",14),t.BQk(),t.ynx(22,23),t.YNc(23,V,2,0,"th",13),t.YNc(24,tt,4,4,"td",14),t.BQk(),t.YNc(25,et,1,0,"tr",24),t.YNc(26,nt,1,0,"tr",25),t.qZA()),2&e){const n=a.ngIf,o=t.oxw();t.Q6J("dataSource",n),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}function at(e,a){if(1&e&&(t.TgZ(0,"div",34)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",35),t._uU(5),t.ALo(6,"number"),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"CART.TOTAL")," "),t.xp6(3),t.AsE("",n.currencySymbolService.getCurrencySymbol(),"",t.xi3(6,5,n.getTotalPrice(),"1.0-2"),"")}}function lt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",36)(1,"mat-form-field",37)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",38),t.NdJ("ngModelChange",function(c){t.CHM(n);const i=t.oxw();return t.KtG(i.promocode=c)}),t.qZA(),t.TgZ(6,"button",39),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.applyPromoCode())}),t.TgZ(7,"span",40),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",41)(11,"span",42),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",43),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.pay())}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"CART.INPUT")),t.xp6(2),t.Q6J("ngModel",n.promocode),t.xp6(3),t.Oqu(t.lcZ(9,8,"CART.APPLY")),t.xp6(4),t.AsE(" ",n.selection.selected.length," ",t.lcZ(13,10,"CART.SELECTED"),""),t.xp6(3),t.hij(" ",t.lcZ(16,12,"CART.PAYMENT")," ")}}function ct(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){const i=t.CHM(n).myobject,s=t.oxw();return t.KtG(s.editWithCheckbox(i))}),t.TgZ(1,"span",45),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"button",44),t.NdJ("click",function(){const i=t.CHM(n).myobject,s=t.oxw();return t.KtG(s.deleteWithCheckbox(i))}),t.TgZ(6,"span",45),t._uU(7),t.ALo(8,"translate"),t.qZA()()}2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"CART.EDIT")," "),t.xp6(5),t.hij(" ",t.lcZ(8,4,"CART.DELETE")," "))}const rt=[{path:"",component:(()=>{class e{constructor(n,o,c,i,s,x,pt){this.passengerList=n,this.tripList=o,this.translate=c,this.currencySymbolService=i,this.store=s,this.router=x,this.priceService=pt,this.displayedColumns=R.U,this.flights=new r.by([]),this.selection=new y.Ov(!0,[]),this.promocode="",this.tripInCart$=this.store.select(N.nT).pipe((0,v.U)(ut=>{const b=this.flights;return b.data=ut,b}))}ngAfterViewInit(){this.flights.sort=this.sort}getTotalPrice(){return this.selection.selected.map(n=>this.tripList.getPrice(n)).reduce((n,o)=>n+o,0)}addTrip(){this.router.navigate(["booking"]).catch(console.error)}isAllSelected(){return this.selection.selected.length===this.flights.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.flights.data)}editWithCheckbox(n){var o=this;return(0,A.Z)(function*(){yield o.router.navigate(["/booking/flights"],{queryParams:{flight:JSON.stringify(n)}})})()}deleteWithCheckbox(n){this.store.dispatch((0,T.A8)({flight:n}))}applyPromoCode(){this.promocode+=1}pay(){this.selection.selected.forEach(n=>{this.store.dispatch((0,T.A8)({flight:n}))}),this.selection.selected.forEach(n=>{this.store.dispatch((0,M.z)({flight:n}))}),this.selection.clear(),this.router.navigate(["profile"]).catch(console.error)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(O.L),t.Y36(Y.v),t.Y36(u.sK),t.Y36(w.C),t.Y36(U.yh),t.Y36(f.F0),t.Y36(L.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],viewQuery:function(n,o){if(1&n&&t.Gf(h.YE,5),2&n){let c;t.iGM(c=t.CRH())&&(o.sort=c.first)}},decls:21,vars:11,consts:[[1,"container","mx-auto","my-10","border","overflow-y-auto","md:p-2","lg:p-4","mat-body-strong"],["color","primary"],[1,"md:p-29","mt-8","sm:p-0","m-0"],["class","border-collapse","mat-table","","matSort","",3,"dataSource",4,"ngIf"],[1,"mt-4","mb-4","flex","justify-between","align-middle","flex-col","md:flex-row"],["mat-button","",1,"btn-addtrip",3,"click"],[1,"btn-primary-color","mx-8","my-4"],["class","flex gap-5 items-center pr-4",4,"ngIf"],["class","pt-11 flex justify-between align-baseline flex-col md:flex-row",4,"ngIf"],["menu","matMenu"],["matMenuContent",""],["mat-table","","matSort","",1,"border-collapse",3,"dataSource"],["matColumnDef","checkbox"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","number"],["mat-header-cell","","class","table_head","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","flights"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","typeTrip"],["matColumnDef","dateTime",1,"md:","hidden"],["matColumnDef","passengers"],["matColumnDef","price"],["matColumnDef","control","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["color","primary",3,"checked","change"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"table_head"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-header-row",""],["mat-row",""],[1,"flex","gap-5","items-center","pr-4"],[1,"totalPrice"],[1,"pt-11","flex","justify-between","align-baseline","flex-col","md:flex-row"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","",3,"click"],[1,"btn-primary-color"],[1,"payment_btn"],[1,"selected"],["mat-raised-button","","color","primary",1,"btn",3,"click"],["mat-menu-item","",3,"click"],[1,"pl-3"]],template:function(n,o){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"mat-card-content",2),t.YNc(6,ot,27,3,"table",3),t.ALo(7,"async"),t._UZ(8,"mat-divider"),t.TgZ(9,"mat-card-footer")(10,"div",4)(11,"button",5),t.NdJ("click",function(){return o.addTrip()}),t.TgZ(12,"span",6),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,at,7,8,"div",7),t.qZA(),t._UZ(16,"mat-divider"),t.YNc(17,lt,17,14,"div",8),t.qZA()()(),t.TgZ(18,"mat-menu",null,9),t.YNc(20,ct,9,6,"ng-template",10),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,5,"CART.CART")),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,7,o.tripInCart$)),t.xp6(7),t.hij(" + ",t.lcZ(14,9,"CART.ADD_NEW"),""),t.xp6(2),t.Q6J("ngIf",o.selection.selected.length>0),t.xp6(2),t.Q6J("ngIf",o.selection.selected.length>0))},dependencies:[d.O5,Z.lW,Z.RK,P.Nt,g.KE,g.hX,g.R9,m.a8,m.dn,m.rt,m.dk,m.n5,D.Hw,p.VK,p.OP,p.KA,p.p6,E.d,S.oG,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,h.YE,h.nU,C.Fj,C.JJ,C.On,d.Ov,d.JJ,u.X$],styles:["mat-card[_ngcontent-%COMP%]{background:#ffffff;box-shadow:0 1px 4px #0003;border-radius:8px}mat-card-title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#11397e}.mdc-data-table__header-row[_ngcontent-%COMP%]{background:#f5f5f5!important;border:.5px solid #e9edf1}.mat-column-checkbox[_ngcontent-%COMP%]{width:10px;border-right:1px solid currentColor}.mat-column-control[_ngcontent-%COMP%]{width:10px}.mat-mdc-header-cell[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:14px;line-height:20px}.btn-addtrip[_ngcontent-%COMP%]{background:#f4f6f9}.btn-primary-color[_ngcontent-%COMP%]{color:#11397e}.selected[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;line-height:24px;color:#74767a}.totalPrice[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11397e 0%,#005abc 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Roboto;font-style:normal;font-weight:700;font-size:30px;line-height:36px}.payment_btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.payment_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:126px;height:60px}"]}),e})()}];let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(rt),f.Bz]}),e})();var st=l(8130),mt=l(853);let dt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,it,st.m,u.aw,mt.I]}),e})()}}]);