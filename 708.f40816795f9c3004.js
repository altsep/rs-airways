"use strict";(self.webpackChunkrs_airways=self.webpackChunkrs_airways||[]).push([[708],{9708:(rt,h,a)=>{a.r(h),a.d(h,{AccountModule:()=>ct});var u=a(130),_=a(2810),d=a(8987),C=a(8152),p=a(3843),l=a(2873),T=a(4375),y=a(4923),g=a(9572),b=a(1863);const x=(0,g.ZF)(b.JD),Z=(0,g.P1)(x,e=>e.flights);(0,g.P1)(x,e=>e.flights.length);var t=a(5230),P=a(2662),v=a(8650),S=a(3327),O=a(3652),Y=a(8806),w=a(1695),N=a(7135),s=a(7260),R=a(5904),L=a(2768);function M(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",23)(1,"mat-checkbox",24),t.NdJ("change",function(i){t.CHM(n);const r=t.oxw(2);return t.KtG(i?r.toggleAllRows():null)}),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())}}function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",25)(1,"mat-checkbox",24),t.NdJ("change",function(i){const m=t.CHM(n).$implicit,f=t.oxw(2);return t.KtG(i?f.selection.toggle(m):null)}),t.qZA()()}if(2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("checked",c.selection.isSelected(n))}}function D(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1,"No."),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.tripList.getNumber(n))}}function Q(e,o){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.FLIGHT")))}function J(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.tripList.getFlight(n))}}function B(e,o){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.TYPE_TRIP")))}function E(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.tripList.getFlightType(n))}}function F(e,o){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.DATE_TIME")))}function H(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.tripList.getDateTime(n))}}function I(e,o){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.PASSENGER")))}function $(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.passengerList.passengersByString(n.passengers))}}function q(e,o){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CART.PRICE")))}function G(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=o.$implicit,c=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,c.tripList.getPrice(n),c.currencySymbolService.getCurrencySymbol())," ")}}function j(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1,"\xa0"),t.qZA())}const z=function(){return["/","booking","summary"]};function K(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",25)(1,"button",28),t.NdJ("click",function(){const r=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(m.viewDetail(r))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("routerLink",t.DdM(4,z)),t.xp6(1),t.hij(" ",t.lcZ(3,2,"CART.DETAIL")," "))}function X(e,o){1&e&&t._UZ(0,"tr",29)}function V(e,o){1&e&&t._UZ(0,"tr",30)}function W(e,o){if(1&e&&(t.TgZ(0,"table",8),t.ynx(1,9),t.YNc(2,M,2,1,"th",10),t.YNc(3,U,2,1,"td",11),t.BQk(),t.ynx(4,12),t.YNc(5,D,2,0,"th",13),t.YNc(6,k,2,1,"td",11),t.BQk(),t.ynx(7,14),t.YNc(8,Q,3,3,"th",15),t.YNc(9,J,2,1,"td",11),t.BQk(),t.ynx(10,16),t.YNc(11,B,3,3,"th",15),t.YNc(12,E,2,1,"td",11),t.BQk(),t.ynx(13,17),t.YNc(14,F,3,3,"th",15),t.YNc(15,H,2,1,"td",11),t.BQk(),t.ynx(16,18),t.YNc(17,I,3,3,"th",15),t.YNc(18,$,2,1,"td",11),t.BQk(),t.ynx(19,19),t.YNc(20,q,3,3,"th",15),t.YNc(21,G,3,4,"td",11),t.BQk(),t.ynx(22,20),t.YNc(23,j,2,0,"th",10),t.YNc(24,K,4,5,"td",11),t.BQk(),t.YNc(25,X,1,0,"tr",21),t.YNc(26,V,1,0,"tr",22),t.qZA()),2&e){const n=o.ngIf,c=t.oxw();t.Q6J("dataSource",n),t.xp6(25),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns)}}function tt(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",31),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,"CART.TOTAL")," "),t.xp6(3),t.hij(" ",t.xi3(5,4,n.getTotalPrice(),n.currencySymbolService.getCurrencySymbol())," ")}}const et=[{path:"",component:(()=>{class e{constructor(n,c,i,r,m,f,at,lt){this.currencySymbolService=n,this.tripList=c,this.passengerList=i,this.authService=r,this.store=m,this.route=f,this.summaryService=at,this.priceService=lt,this.displayedColumns=y.U,this.flights=new l.by([]),this.flights$=this.store.select(Z).pipe((0,T.U)(it=>{const A=this.flights;return A.data=it,A})),this.selection=new C.Ov(!0,[])}logout(){this.authService.logout()}ngAfterViewInit(){this.flights.sort=this.sort}getTotalPrice(){return this.selection.selected.map(n=>this.priceService.getPrice(n.from.price)+this.priceService.getPrice(n.to?.price)).reduce((n,c)=>n+c,0)}isAllSelected(){return this.selection.selected.length===this.flights.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.flights.data)}viewDetail(n){this.summaryService.setSummary(n),this.route.navigate(["/booking/summary"]).finally(()=>{})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(P.C),t.Y36(v.v),t.Y36(S.L),t.Y36(O.e),t.Y36(g.yh),t.Y36(d.F0),t.Y36(Y.J),t.Y36(w.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-page"]],viewQuery:function(n,c){if(1&n&&t.Gf(p.YE,5),2&n){let i;t.iGM(i=t.CRH())&&(c.sort=i.first)}},decls:18,vars:10,consts:[[1,"flex","justify-end","m-5","mr-7"],["mat-raised-button","","color","primary",3,"click"],[1,"container","mx-auto","my-10","border","overflow-y-auto","md:p-2","lg:p-4","mat-body-strong"],["color","primary"],[1,"md:p-29","mt-8","sm:p-0","m-0"],["class","border-collapse","mat-table","","matSort","",3,"dataSource",4,"ngIf"],[1,"mt-4","mb-4","flex","justify-end","align-middle","flex-col","md:flex-row"],[4,"ngIf"],["mat-table","","matSort","",1,"border-collapse",3,"dataSource"],["matColumnDef","checkbox"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","number"],["mat-header-cell","","class","table_head","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","flights"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","typeTrip"],["matColumnDef","dateTime",1,"md:","hidden"],["matColumnDef","passengers"],["matColumnDef","price"],["matColumnDef","control","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["color","primary",3,"checked","change"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"table_head"],["mat-header-cell","","mat-sort-header",""],["color","primary","mat-raised-button","",3,"routerLink","click"],["mat-header-row",""],["mat-row",""],[1,"totalPrice"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return c.logout()}),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t._UZ(4,"mat-divider"),t.TgZ(5,"mat-card",2)(6,"mat-card-header")(7,"mat-card-title",3),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"mat-card-content",4),t.YNc(11,W,27,3,"table",5),t.ALo(12,"async"),t._UZ(13,"mat-divider"),t.TgZ(14,"mat-card-footer")(15,"div",6),t.YNc(16,tt,6,7,"span",7),t.qZA(),t._UZ(17,"mat-divider"),t.qZA()()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"MAIN.LOGOUT")),t.xp6(6),t.Oqu(t.lcZ(9,6,"CART.HISTORY")),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,8,c.flights$)),t.xp6(5),t.Q6J("ngIf",c.selection.selected.length>0))},dependencies:[u.O5,d.rH,N.lW,s.a8,s.dn,s.rt,s.dk,s.n5,R.d,L.oG,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,p.YE,p.nU,u.Ov,u.H9,_.X$],styles:["mat-card[_ngcontent-%COMP%]{background:#ffffff;box-shadow:0 1px 4px #0003;border-radius:8px}mat-card-title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#11397e}.mdc-data-table__header-row[_ngcontent-%COMP%]{background:#f5f5f5!important;border:.5px solid #e9edf1}.mat-column-checkbox[_ngcontent-%COMP%]{width:10px;border-right:1px solid currentColor}.mat-column-control[_ngcontent-%COMP%]{width:10px}.mat-mdc-header-cell[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:14px;line-height:20px}.btn-addtrip[_ngcontent-%COMP%]{background:#f4f6f9}.btn-primary-color[_ngcontent-%COMP%]{color:#11397e}.selected[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;line-height:24px;color:#74767a}.totalPrice[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11397e 0%,#005abc 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Roboto;font-style:normal;font-weight:700;font-size:30px;line-height:36px}.payment_btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.payment_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:126px;height:60px}"]}),e})()}];let nt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(et),d.Bz]}),e})();var ot=a(8130);let ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,nt,ot.m,_.aw]}),e})()}}]);